(unified_pose_env) rodeo_aims_ac_za@rodeo-vm:~/3d_whole_body_pipeline$ python main.py --input_image data/full_images/test2.jpg --output_dir pipeline_results
2025-06-05 11:02:45,894 - UnifiedPipeline - INFO - Starting unified pipeline for image: data/full_images/test2.jpg
2025-06-05 11:02:45,894 - UnifiedPipeline - INFO - Output directory: pipeline_results/run_20250605_110245
2025-06-05 11:02:45,895 - UnifiedPipeline - INFO - Starting smplestx with command: /opt/conda/envs/unified_pose_env/bin/python adapters/smplestx_adapter.py --cfg_path pretrained_models/smplest_x/config_base.py --input_image data/full_images/test2.jpg --output_dir pipeline_results/run_20250605_110245/smplestx_results --multi_person
2025-06-05 11:02:45,896 - UnifiedPipeline - INFO - Working directory: /home/rodeo_aims_ac_za/3d_whole_body_pipeline
2025-06-05 11:02:45,898 - UnifiedPipeline - INFO - Starting wilor with command: /opt/conda/envs/unified_pose_env/bin/python wilor_adapter.py --img_folder ../pipeline_results/run_20250605_110245/wilor_results/temp_input --out_folder ../pipeline_results/run_20250605_110245/wilor_results --rescale_factor 2.0
2025-06-05 11:02:45,898 - UnifiedPipeline - INFO - Working directory: /home/rodeo_aims_ac_za/3d_whole_body_pipeline/adapters
2025-06-05 11:02:45,898 - UnifiedPipeline - INFO - Starting emoca with command: /opt/conda/envs/unified_pose_env/bin/python adapters/emoca_adapter.py --input_folder pipeline_results/run_20250605_110245/emoca_results/temp_input --output_folder pipeline_results/run_20250605_110245/emoca_results --save_images True --save_codes True --mode detail
2025-06-05 11:02:45,899 - UnifiedPipeline - INFO - Working directory: /home/rodeo_aims_ac_za/3d_whole_body_pipeline
2025-06-05 11:03:03,926 - UnifiedPipeline - INFO - âœ“ wilor completed successfully
2025-06-05 11:03:10,851 - UnifiedPipeline - INFO - âœ“ emoca completed successfully
2025-06-05 11:03:13,660 - UnifiedPipeline - INFO - âœ“ smplestx completed successfully
2025-06-05 11:03:13,661 - UnifiedPipeline - INFO - 
============================================================
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - PIPELINE SUMMARY
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - ============================================================
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - Input: data/full_images/test2.jpg
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - Output: pipeline_results/run_20250605_110245
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - Success rate: 100.0%
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - âœ“ Successful: wilor, emoca, smplestx
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - Summary saved to: pipeline_results/run_20250605_110245/pipeline_summary.json
2025-06-05 11:03:13,662 - UnifiedPipeline - INFO - ============================================================
(unified_pose_env) rodeo_aims_ac_za@rodeo-vm:~/3d_whole_body_pipeline$ python analysis_tools/parameter_analyzer.py --results_dir pipeline_results/run_20250605_110245/
================================================================================
PARAMETER STRUCTURE ANALYSIS
================================================================================
Analyzing pipeline outputs in: pipeline_results/run_20250605_110245

ğŸ” Analyzing SMPLest-X outputs...
ğŸ” Analyzing WiLoR outputs...
ğŸ” Analyzing EMOCA outputs...
ğŸ“ Creating human-readable summary...

ğŸ“Š SUMMARY:
--------------------------------------------------

SMPLest-X:
  Full-body 3D human pose and shape estimation
  Parameters found: 11
    â€¢ joints_3d: Multi-dimensional array: 137 Ã— 3
    â€¢ joints_2d: Multi-dimensional array: 137 Ã— 2
    â€¢ root_pose: List of 3 numbers
    â€¢ body_pose: List of 63 numbers
    â€¢ left_hand_pose: List of 45 numbers
    â€¢ right_hand_pose: List of 45 numbers
    â€¢ jaw_pose: List of 3 numbers
    â€¢ betas: List of 10 numbers
    â€¢ expression: List of 10 numbers
    â€¢ translation: List of 3 numbers
    â€¢ mesh: Multi-dimensional array: 10475 Ã— 3

WiLoR:
  Hand pose estimation with MANO parameters
  Parameters found: 27
    â€¢ image_path: Single str value
    â€¢ batch_size: Single int value
    â€¢ detection_count: Single int value
    â€¢ scaled_focal_length: Single float value
    â€¢ hand_id: Single int value
    â€¢ hand_type: Single str value
    â€¢ is_right: Single bool value
    â€¢ vertices_3d: Multi-dimensional array: 778 Ã— 3
    â€¢ keypoints_3d: Multi-dimensional array: 21 Ã— 3
    â€¢ camera_prediction: List of 3 numbers
    â€¢ camera_translation: List of 3 numbers
    â€¢ box_center: List of 2 numbers
    â€¢ box_size: Single float value
    â€¢ img_size: List of 2 numbers
    â€¢ source: Single str value
    â€¢ values: Multi-dimensional array: 1 Ã— 3 Ã— 3
    â€¢ shape: List of 3 numbers
    â€¢ type: Single str value
    â€¢ x: List of 2 numbers
    â€¢ y: List of 2 numbers
    â€¢ z: List of 2 numbers
    â€¢ vertices_center: List of 3 numbers
    â€¢ extractor_version: Single str value
    â€¢ includes_3d_coordinates: Single bool value
    â€¢ includes_mano_parameters: Single bool value
    â€¢ coordinate_system: Single str value
    â€¢ notes: Single str value

EMOCA:
  Facial expression and identity modeling
  Parameters found: 5
    â€¢ shapecode: List of 100 numbers
    â€¢ expcode: List of 50 numbers
    â€¢ texcode: List of 50 numbers
    â€¢ posecode: List of 6 numbers
    â€¢ detailcode: List of 128 numbers

ğŸ’¾ Analysis saved to:
   ğŸ“„ Detailed: pipeline_results/run_20250605_110245/parameter_structure_analysis.json
   ğŸ“„ Summary: pipeline_results/run_20250605_110245/pipeline_output_summary.json
================================================================================
(unified_pose_env) rodeo_aims_ac_za@rodeo-vm:~/3d_whole_body_pipeline$ python analysis_tools/coordinate_analyzer_fixed.py pipeline_results/run_20250605_110245/

============================================================
ğŸš€ COMPREHENSIVE COORDINATE SYSTEM ANALYSIS
============================================================

ğŸ“¥ Loading SMPLest-X data...
   âœ… Loaded person_0: 137 joints, 10475 mesh vertices
ğŸ“¥ Loading WiLoR data...
   âœ… Loaded test2: 2 hands, 2 hand meshes
      ğŸ–ï¸  left hand: 778 vertices, 21 keypoints
      ğŸ–ï¸  right hand: 778 vertices, 21 keypoints
ğŸ“¥ Loading EMOCA data...
   âœ… Loaded test200: 5 parameter sets
   âœ… Loaded test200: 5 parameter sets

----------------------------------------
ğŸ” Analyzing SMPLest-X coordinate system...
   ğŸ“Š Analyzed 137 joints and 10,475 mesh vertices
   ğŸ“ Estimated body height: 1.581m
   ğŸ“ Overall scale (std): 0.3041

----------------------------------------
ğŸ” Analyzing WiLoR coordinate system...
   ğŸ“Š Analyzed 2 hands with 1,556 vertices total
   ğŸ–ï¸  Hand span estimate: 0.239m
   ğŸ“ Overall scale (std): 0.0387

----------------------------------------
ğŸ” Analyzing EMOCA parameter space...
   ğŸ“Š Parameter dimensions: Shape(100D), Expression(50D), Pose(6D)
   ğŸ­ Expression: 0 active dimensions
   ğŸ”„ Fusion needs: 50D â†’ 10D mapping

----------------------------------------
ğŸ§® Calculating transformation parameters...
   ğŸ“ Scale factor: 7.8544 (SMPLest-X / WiLoR)
   ğŸ“ Translation: [-0.0298, -0.3406, -0.1230]
   âœ… Transformation complexity: low

----------------------------------------
ğŸ“ Generating fusion mathematics...
   ğŸ”¢ Coordinate transform: Scale=7.8544, Translate=[-0.029848401003474526, -0.3405772427021072, -0.12300257349451627]
   ğŸ­ Expression mapping: 50D â†’ 10D
   âœ… Mathematical framework complete

----------------------------------------
ğŸ“Š Creating visualizations...
wilor_center type: <class 'list'>
scale type: <class 'float'>
trans type: <class 'list'>
   âœ… Visualizations saved to coordinate_system_analysis.png

----------------------------------------
ğŸ’¾ Saving analysis reports...
   ğŸ“„ Saved: scale_difference_analysis.txt
   ğŸ“„ Saved: transformation_alignment.txt
   ğŸ“„ Saved: fusion_mathematics.md
   ğŸ“„ Saved: coordinate_analysis_summary.json

============================================================
âœ… ANALYSIS COMPLETE!
============================================================

ğŸ“Š Generated Files:
   - coordinate_system_analysis.png (visualizations)
   - scale_difference_analysis.txt (scale report)
   - transformation_alignment.txt (alignment details)
   - fusion_mathematics.md (mathematical framework)
   - coordinate_analysis_summary.json (parameters)

ğŸ¯ Key Findings:
   - Scale factor: 7.8544
   - Translation: [-0.029848401003474526, -0.3405772427021072, -0.12300257349451627]
   - Expression mapping: 50D â†’ 10D


(unified_pose_env) rodeo_aims_ac_za@rodeo-vm:~/3d_whole_body_pipeline$ python analysis_tools/direct_parameter_fusion.py --results_dir pipeline_results/run_20250605_110245/
ğŸ“¥ Loading coordinate analysis results...
   âœ… Loaded transformation: scale=7.8544
   âœ… Translation: [-0.0298484  -0.34057724 -0.12300257]
ğŸ¤– Setting up SMPL-X model...
   âœ… SMPL-X model loaded from: human_models/human_model_files/
ğŸ¨ Setting up rendering configuration...
   âœ… Config loaded from: pretrained_models/smplest_x/config_base.py

============================================================
ğŸš€ DIRECT PARAMETER FUSION SYSTEM
============================================================

ğŸ“¥ Loading model parameters...
âš ï¸  EMOCA parameters not found, proceeding without facial enhancement
   âœ… Loaded SMPLest-X: 11 parameter types
   âœ… Loaded WiLoR: 2 hands
   âœ… Loaded EMOCA: 0 parameter types
ğŸ”§ Creating fused parameters...
   âœ… Foundation parameters from SMPLest-X
ğŸ”„ Transforming WiLoR coordinates to SMPLest-X space...
   ğŸ–ï¸  Transformed left hand vertices: scale=7.8544
      ğŸ“ Original range: [-0.1194, 0.0508]
      ğŸ“ Transformed range: [-1.0923, 0.3692]
   ğŸ–ï¸  Transformed right hand vertices: scale=7.8544
      ğŸ“ Original range: [-0.0947, 0.1199]
      ğŸ“ Transformed range: [-0.8671, 0.9119]
ğŸ–ï¸  Extracting hand pose parameters...
   âœ… Left hand pose extracted: 135 â†’ 45 params
   âœ… Right hand pose extracted: 135 â†’ 45 params
   âœ… Hand poses replaced with WiLoR parameters
âš ï¸  No EMOCA expression data, using zero expression
   âœ… Expression replaced with EMOCA parameters
ğŸ“Š Parameter comparison:
   Left Hand:
     Original norm: 1.9145
     Fused norm: 3.8730
     Difference: 4.0687
     Change: 102.3%
   Right Hand:
     Original norm: 1.1071
     Fused norm: 3.8730
     Difference: 3.9396
     Change: 249.8%
   Expression:
     Original norm: 2.8090
     Fused norm: 0.0000
     Difference: 2.8090
     Change: -100.0%
ğŸ¯ Generating enhanced mesh with fused parameters...
   ğŸ”§ Parameter shapes:
      betas: torch.Size([1, 10])
      body_pose: torch.Size([1, 63])
      global_orient: torch.Size([1, 3])
      left_hand_pose: torch.Size([1, 45])
      right_hand_pose: torch.Size([1, 45])
      expression: torch.Size([1, 10])
      jaw_pose: torch.Size([1, 3])
      transl: torch.Size([1, 3])
      leye_pose: torch.Size([1, 3])
      reye_pose: torch.Size([1, 3])
   âœ… Enhanced mesh generated: 10475 vertices
ğŸ’¾ Saving fusion results to: pipeline_results/run_20250605_110245/fusion_results
   âœ… Fused parameters saved
   âœ… Enhanced mesh saved
   âœ… Comparison report saved

============================================================
âœ… FUSION COMPLETE!
============================================================

ğŸ¯ Results:
   - Fused parameters with WiLoR hands + EMOCA expression
   - Coordinate transformation applied
   - Enhanced mesh generated (if SMPL-X model available)
   - Comparison metrics computed

ğŸ“ Output directory: pipeline_results/run_20250605_110245/fusion_results
(unified_pose_env) rodeo_aims_ac_za@rodeo-vm:~/3d_whole_body_pipeline$ python analysis_tools/fusion_visualizer.py --results_dir pipeline_results/run_20250605_110245/

============================================================
ğŸ“Š FUSION RESULTS VISUALIZATION
============================================================

ğŸ“¥ Loading fusion data for visualization...
   âœ… Original parameters: 11 types
   âœ… Fused parameters: 9 types
   âœ… Original mesh: (10475, 3)
   âœ… Enhanced mesh: None
ğŸ“Š Creating parameter comparison plots...
   âœ… Parameter comparison plot saved
âš ï¸  Cannot create mesh comparison - missing mesh data
ğŸ”„ Creating coordinate transformation visualization...
   âœ… Coordinate transformation visualization saved
ğŸ“„ Creating fusion summary report...
   âœ… Summary report saved to: pipeline_results/run_20250605_110245/fusion_results/fusion_summary_report.txt

============================================================
âœ… VISUALIZATION COMPLETE!
============================================================

ğŸ“Š Generated visualizations:
   - parameter_comparison.png (parameter changes)
   - mesh_comparison_3d.png (3D mesh analysis)
   - coordinate_transformation.png (transformation visualization)
   - fusion_summary_report.txt (comprehensive report)

ğŸ“ Visualization directory: pipeline_results/run_20250605_110245/fusion_results
(unified_pose_env) rodeo_aims_ac_za@rodeo-vm:~/3d_whole_body_pipeline$ 